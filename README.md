# unagi - RAM read/write script

famicom ROM cartridge utility - unagi

RAM read/write script version 0.7.1

公式サイト http://osdn.jp/projects/unagi/

## はじめに

カートリッジ内部に存在する拡張 RAM を読み書きするためのスクリプトです。

拡張 RAM の主な利用方法はゲームのセーブデータを保存するバッテリーバックアップ RAM です。このスクリプトを利用することによって実機とエミュレータでのセーブデータの相互運用が可能になります。

## RAM read/write script 特有の問題

拡張 RAM の内容は読み出さなくてもエミュレータでの動作に必要がないことと、エミュレータでは常にアクセス可能にすれば動いてしまいます。

上記に加え、RAM の仕様は ROM マッパが同じでも容量やアクセス方法がばらばらであることもあり、ROM と比べて解析が進んでない分野というのが対応をはじめてからの実感です。

## RAM イメージの取り扱いについて

エミュレータで使用される .sav ファイルを利用します。

カートリッジ内部の大切なデータを誤って消去しないように注意して利用してください。データ紛失トラブルについて鰻開発協同組合は責任をとりません。

## スクリプトの文法について

ROM dump script パッケージに付属する syntax.txt をご覧ください。

## スクリプト別詳細

### namcot_fc91.urw

ファミリーサーキット91専用です。エミュレータで作成される .sav ファイルのサイズは 0x2000 byte ですが、正確には 0x800 byte です。このため、セーブデータを利用する場合は下記の加工が必要です。

|offset       |実機->emu/ emu->実機|
|-|-|
|0x0000-0x17ff|何かデータを埋める/データを削る|
|0x1800-0x1fff|有効なセーブデータ領域|

### normal.urw

一般的な RAM アクセスデータです。MMC4, VRC2, VRC4, VRC6 に使えます。

### rc832.urw

グラディウスIIのカートリッジ内部の RAM にアクセスするだけのスクリプトで、セーブデータではありません。

### snrom.urw

MMC1 を利用した一般的なカートリッジ用スクリプトです。

### sxrom.urw

MMC1 を利用した大きいカートリッジ用スクリプトです。ファイナルファンタジーI.IIでのみ動作確認をしていますが、光栄のゲームで利用できると思います。

### tsrom.urw

MMC3 を利用した一般的なカートリッジ用スクリプトです。

### vrc7.urw

ラグランジュポイント専用です。

## 試したもののアクセス方法が不明なカセット

ナムコ, キングオブキングス

タイトー, ミネルバトンサーガ
